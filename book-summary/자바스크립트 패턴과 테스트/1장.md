## 1.1 바르게 시작하는 코드 작성하기

### 1.1.1 자바스크립트 특성을 완벽히 섭렵하라

#### 자바스크립트는 싱글 스레드로 움직인다
멀티 스레드 언어에서는 어떤 작업을 해당 코드와 병렬 실행시킬 수 있지만, 자바스크립트는 어떤 이벤트가 끝나자마자 실행할 함수를 큐에 넣는 게 고작이다.

자바스크립트 엔진은 이벤트 루프에서 한 번에 하나씩 함수를 꺼내 실행한다.
- 인터럽트 당하는 문제를 신경 안써도 된다.
- 프로세서를 독차지할 염려도 없다.

<!-- ### 1.1.2 대규모 시스템에서 자바스크립트 함정을 피하라

#### 스크립트는 모듈이 아니다
자바스크립트는 데이터와 함수를 적절히 캠슐화한 모듈을 만드는 방법이 매우 다양하다.

#### 스코프는 중첩 함수로 다스린다


#### 규약을 지켜 코딩한다 -->


## 1.2 바르게 유지되는 코드 작성하기
### 1.2.1 단위 테스트는 미래에 대비한 투자다
**단위**란 특정 조건에서 어떻게 작동해야 할지 정의한 것이다.

단위 테스트 본체에 작성한 코드는 **준비**, **실행**, **단언**의 패턴을 따른다.

#### 준비
- 단위를 실행할 조건을 확실히 정하고, 의존성 및 함수 입력 데이터를 설정한다.

#### 실행
- 예를 들어 단위가 함수면 준비 단계에서 미리 설정한 입력값을 함수에 넘겨 실행한다.

#### 단언
- 미리 정한 조건에 따라 예상대로 단위가 작동하는지 확인한다.
- 단위가 함수인 테스트라면 예상한 값을 반환하는지 조사하면 된다.

### 1.2.2 테스트 주도 개발을 실천하라
TDD에서는 애플리케이션 코드를 짜기 전에 이 코드가 통과해야 할 단위 테스트를 먼저 작성한다. 

이는 단위 정의와 인터페이스 설계에 도움이 많이 된다.

#### TDD에서 애플리케이션에 어떤 변화(기능 추가, 버그 수정)가 생길 때
1. (적색) 완벽히 변경하면 성공하나 그렇게 되기 전까지는 반드시 실패하는 단위 테스트를 작성한다.
2. (녹색) 테스트가 성공할 수 있을 만큼만 '최소한으로' 코딩한다.
3. (리팩터) 애플리케이션 코드를 리팩토링하며 중복을 제거한다.

#### 사소한 변경이라도 테스트 코드를 작성하자
- 사소한 변화에 대한 테스트를 작성하지 않고 넘어가면 테스트하지 않은 코드가 애플리케이션 곳곳에 널리게 될 것이다.

#### 사후에 테스트를 작성하지 말자
- 사후에 테스트를 작성하면 애플리케이션 코드가 어떻게 작동해야 한다는 것이 아니라 작성한 대로 작동할 거라는 뚱딴지같은 사실을 확인하는 꼴이다.

### 1.2.3 테스트하기 쉬운 코드로 다듬어라
테스트하기 쉬운 코드를 작성하려면 가장 중요한 단계는 관심사를 적절히 분리하는 일이다.

테스트할 조건이 엄청 다양하게 조합될 경우 이들을 다 보완하는 건 불가능에 가깝다.

관심사를 제대로 분리하지 않은 채 먼저 코딩하고 테스트를 작

적색-녹색-리팩터 과정을 반복하며 작은 코드를 개발하다 보면 점점 속도가 붙게 된다.
1. 작은 코드는 대개 간단하고 실수할 가능성이 작아 디버깅 시간을 상당히 줄일 수 있다.
2. 테스트로 코드를 완전히 커버하니 리팩토링을 하더라도 무서울 게 없다.
3. 코드를 DRY하게 유지하여 코드베이스에 오류 발생 여지를 줄이고 규모를 작게 가져갈 수 있다.

## 1.3 정리하기
단위 테스트가 없으면 그저 애플리케이션이 잘 작동하기를 막연히 기도할 수밖에 없다.

#### 테스트 주도 개발을 실천하면 여러 가지 혜택이 있다.
1. 장기적인 믿음성을 보장하는 단위 테스트 꾸러미를 구축한다.
2. 애플리케이션 객체에 적합한 인터페이스를 설계할 때 도움이 된다.
3. 놀랍게도 단위 테스트를 통해 코드를 더 빨리 개발할 수 있다.

#### 테스트성을 높이기 위해 중요한 것 
- 관심사를 분리하는 일에 집중해야 한다.
- 단일 책임 원칙이나 의존성 주입 같은 소프트웨어 공학 원칙을 잘 써먹는 게 중요하다.

